<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Micro-Note</title>
  <meta name="description" content="Micro-Note">
  <meta name="author" content="SitePoint">


  <link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css">
  
</head>

<body style="margin-left: 10%; margin-right: 10%;">
    <h1>DPS909 Lab 2</h1>

    <h2> Micro-Note </h2>



    <div class="card" style="width: 85%;">
        <div class="card-body">
          <h4 class="card-title">Type Your Notes in Below</h4>
       
          <p class="card-text">
            <div id="note" contenteditable></div>
          </p>
         
        </div>
      </div>


 
  <script src="https://unpkg.com/filer/dist/filer.min.js"></script>
  <script>const 
    fs = new Filer.FileSystem(); 
    
    document.addEventListener('DOMContentLoaded', (event) => {
        
        fs.readFile('/note', 'utf8', function(err, data) {
            if(err != null || data == null){
                data = "Welcome to my notepad!"
            }
          
            document.querySelector('#note').innerHTML = data;
        
        });
    });

    var saveFile = function(){
        fs.writeFile('/note', document.querySelector('#note').innerHTML, function (err) {
            if (err) throw err;
        });
    }

    var interval = window.setInterval(saveFile, 3000);

 </script>

</body>
</html>